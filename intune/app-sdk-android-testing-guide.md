---
title: Руководство по тестированию для разработчиков по пакету SDK для приложений Intune для Android
description: Руководство по тестированию Microsoft Intune App SDK для Android поможет вам протестировать приложение Android под управлением Intune.
keywords: Пакет SDK
author: Erikre
ms.author: erikre
manager: dougeby
ms.date: 07/09/2019
ms.topic: reference
ms.service: microsoft-intune
ms.localizationpriority: medium
ms.technology: ''
ms.assetid: 4ef8f421-9610-4d34-a464-cc02eb1578a9
ms.reviewer: aanavath
ms.suite: ems
search.appverid: MET150
ms.custom: ''
ms.collection: M365-identity-device-management
ms.openlocfilehash: aa6b07c77b0d92ceb7bdc960d8c2fd754c277499
ms.sourcegitcommit: 63b55e81122e5c15893302b109ae137c30855b55
ms.translationtype: MTE75
ms.contentlocale: ru-RU
ms.lasthandoff: 07/10/2019
ms.locfileid: "67713232"
---
# <a name="microsoft-intune-app-sdk-for-android-developers-testing-guide"></a>Руководство по тестированию для разработчиков по пакету SDK для приложений Intune для Android

Руководство по тестированию Microsoft Intune App SDK для Android призвано помочь вам протестировать приложение Android под управлением Intune.  

## <a name="prerequisite-test-accounts"></a>Требуемые учетные записи для тестирования
Можно создать новые учетные записи без предварительно созданных данных. Создание новой учетной записи
1. Перейдите на сайт [Microsoft Demos](https://demos.microsoft.com/environments/create/tenant). 
2. [Настройте Intune](https://docs.microsoft.com/intune/setup-steps), включив управление мобильными устройствами (MDM).
3. Проведите [создание пользователей](https://docs.microsoft.com/intune/users-add).
4. [Создание групп](https://docs.microsoft.com/intune/groups-add).
5. [Назначьте лицензии](https://docs.microsoft.com/intune/licenses-assign) соответствующим образом для тестирования.


## <a name="azure-portal-policy-configuration"></a>Настройка портала политик Azure
На [портале Azure во вкладке Intune](https://docs.microsoft.com/intune/app-protection-policies) [создайте и назначьте политики защиты приложений](https://portal.azure.com/?feature.customportal=false#blade/Microsoft_Intune_Apps/MainMenu/14/selectedMenuItem/Overview). Вашу [политику конфигурации приложений](https://docs.microsoft.com/intune/app-configuration-policies-overview) можно также создать и назначить в колонке Intune.

> [!NOTE]
> Если ваше приложение отсутствует на портале Azure, вы можете выбрать его как целевое для политики, выбрав параметр **Дополнительные приложения** и указав имя пакета в текстовом поле.

> [!IMPORTANT]
> Для применения политики конфигурации приложений на регистрирующего пользователя должна также распространяться [политика защиты приложений Intune](https://docs.microsoft.com/intune/app-protection-policy).

## <a name="test-cases"></a>Тестовые случаи

Шаги настройки и подтверждения описаны в следующих тестовых случаях. Используйте это руководство для устранения проблем приложений для Android, управляемых Intune.

### <a name="required-pin-and-corporate-credentials"></a>Требовать PIN-код и корпоративные учетные данные

Вы можете требовать ПИН-код для доступа к корпоративным ресурсам. Кроме того, можно принудительно включить корпоративную проверку подлинности, прежде чем пользователи смогут использовать управляемые приложения. Чтобы настроить эти требования, выполните указанные ниже действия.

1. Настройте параметры **Требовать корпоративные учетные данные для доступа** и **Требовать ПИН-код для доступа** как **Да**. Дополнительные сведения см. в статье [Параметры политики защиты приложений Android в Microsoft Intune](app-protection-policy-settings-android.md#access-requirements).
2. Убедитесь в следующем:
    - При запуске приложений выводится запрос для ввода ПИН-кода, настройки или рабочей учетной записи пользователя, которая использовалась во время регистрации с помощью корпоративного портала.
    - Отсутствие такого запроса может быть вызвано неправильной настройкой манифеста Android, конкретно — значений для интеграции ADAL (SkipBroker, ClientID и Authority).
    - Сбой вывода запроса может возникать из-за неправильно интегрированного значения `MAMActivity`. Дополнительные сведения о `MAMActivity` см. в разделе [Руководство по пакету SDK для приложений Microsoft Intune для разработчиков под Android](app-sdk-android.md).

> [!NOTE] 
> Если описанный выше тест не работает, приведенные ниже тесты, скорее всего, также завершатся неудачно. Проверьте интеграцию [SDK](app-sdk-android.md##sdk-integration) и [ADAL](app-sdk-android.md#configure-azure-active-directory-authentication-library-adal).

### <a name="restrict-transferring-and-receiving-data-with-other-apps"></a>Ограничьте обмен данных с другими приложениями
Управлять передачей данных между корпоративными управляемыми приложениями можно следующим образом:

1. Задайте параметр **Разрешить приложению передавать данные в другие приложения** как **Приложения, управляемые политикой**.
2. Для поля **Разрешить приложению принимать данные от других приложений** установите значение **Все приложения**. Использование намерений и поставщиков содержимого будет затронуто воздействием этих политик.
3. Убедитесь в следующем:
    - Открытие вашего приложения из неуправляемого приложения работает правильно.
    - Допускается обмен содержимым между управляемыми приложениями.
    - Передавать данные из управляемых приложений в неуправляемые (например, Chrome) запрещено.

### <a name="restrict-cut-copy-and-paste"></a>Блокировать вырезание, копирование и вставку
Можно ограничить буфер обмена системы для управляемых приложений следующим образом:

1. Задайте параметр **Ограничить вырезание, копирование и вставку данных между приложениями** как **Управляемые политикой со вставкой из буфера**.
2. Убедитесь в следующем:
    - Копирование текста из управляемого приложения в неуправляемое приложение (например, "Сообщения") блокируется.

### <a name="prevent-save-as"></a>Запретить **Сохранить как**
Вы можете управлять функцией **Сохранить как**, как показано ниже:

1. Если вашему приложению требуются [Интегрированные элементы управления "Сохранить как"](app-sdk-android.md#example-determine-if-saving-to-device-or-cloud-storage-is-permitted), задайте параметр **Запретить "Сохранить как"** как **Да**.
2. Убедитесь в следующем:
    - Сохранение ограничивается только соответствующими управляемыми расположениями.

### <a name="file-encryption"></a>Шифрование файлов
Вы можете зашифровать данные на устройстве следующим образом:

1. Задайте параметр **Шифрование данных приложения** как **Да**.
2. Убедитесь в следующем:
    - Это не влияет на нормальную работу приложения.

### <a name="prevent-android-backups"></a>Запретить резервное копирование на Android
Резервное копирование в приложении можно контролировать следующим образом:

1. Если вы задали [интегрированные ограничения на резервное копирование](app-sdk-android.md#protecting-backup-data), задайте параметр **Запретить резервное копирование на Android** как **Да**.
2. Убедитесь в следующем:
    - Резервные копии запрещены.

### <a name="unenrollment"></a>Отмена регистрации
Вы можете выполнить удаленную очистку управляемых приложений от корпоративной электронной почты и документов, при которой личные данные расшифровываются в том случае, если устройство больше не управляется, следующим образом:

1. На портале Azure [запустите очистку](https://docs.microsoft.com/intune/apps-selective-wipe).
2. Если приложение не регистрирует обработчики очистки, убедитесь в следующем:
    - Происходит полная очистка приложения.
3. Если ваше приложение зарегистрировано для `WIPE_USER_DATA` или `WIPE_USER_AUXILARY_DATA`, убедитесь в следующем:
    - Управляемое содержимое удалено из приложения. Дополнительные сведения см. в разделе [Руководство по пакету SDK для приложений Intune для разработчиков под Android — выборочная очистка](app-sdk-android.md#selective-wipe).

### <a name="multi-identity"></a>Множественная идентификация
Интеграция [поддержки множественной идентификации](app-sdk-android.md#multi-identity-optional) отличается высоким уровнем риска, поэтому ее необходимо тщательно проверить. Наиболее распространенные проблемы могут возникать из-за неправильной настройки удостоверений (контекст и уровень угрозы), а также отслеживания файлов (`MAMFileProtectionManager`).

Как минимум, следует повторно проверить следующие сценарии для множественных удостоверений:

- Политика **Сохранить как** для управляемых удостоверений работает правильно.
- Копирование и вставка между управляемыми и личными приложениями ограничены правильно.
- Шифруются только данные, относящиеся к управляемым удостоверениям, а личные файлы не изменяются.
- Выборочная очистка во время отмены регистрации удаляет лишь данные управляемого удостоверения.
- Конечному пользователю предлагается условный запуск при переходе с неуправляемой на управляемую учетную запись (только в первый раз).

### <a name="app-configuration-optional"></a>Конфигурация приложений (необязательно)
Поведение управляемых приложений можно настроить следующим образом:

1. Если приложение использует какие-либо параметры конфигурации приложений, следует проверить, что приложение правильно обрабатывает все значения, которые вы (администратор) могли задать. [Политики конфигурации приложений](https://docs.microsoft.com/intune/app-configuration-policies-overview) можно создать и назначить с помощью Intune.

## <a name="next-steps"></a>Дальнейшие шаги

- [Добавление бизнес-приложения Android в Microsoft Intune](lob-apps-android.md)
