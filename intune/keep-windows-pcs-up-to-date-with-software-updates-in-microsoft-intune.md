---
title: Обновления программного обеспечения на компьютерах Windows
titleSuffix: Microsoft Intune
description: Intune помогает поддерживать актуальное состояние управляемых компьютеров благодаря быстрой установке последних исправлений и обновлений программного обеспечения.
keywords: ''
author: dougeby
ms.author: dougeby
manager: dougeby
ms.date: 01/01/2018
ms.topic: archived
ms.service: microsoft-intune
ms.localizationpriority: medium
ms.technology: ''
ms.assetid: 48e9c41a-d2de-424e-9610-cfd1ad514210
ms.reviewer: owenyen
ms.suite: ems
search.appverid: MET150
ms.custom: intune-classic-keep
ms.collection: M365-identity-device-management
ms.openlocfilehash: 56bbe6d8af43693814a90351acb2f400cff92025
ms.sourcegitcommit: 916fed64f3d173498a2905c7ed8d2d6416e34061
ms.translationtype: MTE75
ms.contentlocale: ru-RU
ms.lasthandoff: 05/23/2019
ms.locfileid: "66046994"
---
# <a name="keep-windows-pcs-up-to-date-with-software-updates-in-microsoft-intune"></a>Обновление программного обеспечения на компьютерах с Windows с помощью Microsoft Intune

[!INCLUDE [classic-portal](includes/classic-portal.md)]

Microsoft Intune помогает защитить управляемые компьютеры несколькими способами, включая управление обновлениями ПО для поддержки актуального состояния компьютеров за счет быстрой установки последних обновлений и исправлений программного обеспечения.

Если вы еще не установили клиент Intune на своих компьютерах, см. статью [Установка клиента на компьютере Windows с помощью Microsoft Intune](install-the-windows-pc-client-with-microsoft-intune.md).

При появлении новых обновлений в Центре обновления Майкрософт или создании сторонних обновлений, применимых к управляемым компьютерам, на странице **Обзор** рабочей области **Обновления** отображается уведомление. Щелкнув ссылку уведомления, можно выполнить различные операции, такие как просмотр дополнительных сведений об обновлении, утверждение или отклонение обновления и просмотр компьютеров, на которых будет установлено обновление в случае его утверждения.

> [!IMPORTANT]
> Рабочая область **Обновления** будет отображаться на консоли администрирования, только если клиент установлен и управляет по крайней мере одним клиентом компьютера.

После утверждения и установки обновлений можно проверить успешность установки в рабочей области **Обновления** в консоли Intune.

Следующие разделы посвящены вопросам обновления программного обеспечения на управляемых компьютерах.

## <a name="before-you-start"></a>Перед началом работы
Прежде чем приступать к созданию и утверждению обновлений ПО, настройте и разверните на компьютерах политики, которые будут контролировать время и способ установки обновлений.

### <a name="to-configure-update-policy-settings"></a>Настройка параметров политики обновления

1.  В [консоли администрирования Microsoft Intune](https://manage.microsoft.com/) последовательно выберите **Политика** &gt; **Обзор** &gt; **Добавить политику**.

2.  Настройте и разверните политику **Параметры агента Microsoft Intune** для параметров обновления. Можно использовать рекомендуемые параметры или настроить параметры. Дополнительные сведения о способах создания и развертывания политик см. в статье [Общие задачи управления ПК Windows с клиентом Microsoft Intune](common-windows-pc-management-tasks-with-the-microsoft-intune-computer-client.md).

В таблице ниже приведены значения, которые можно настроить в политике, а также стандартные рекомендуемые значения, которые будут использоваться, если не настраивать политику. Эти параметры можно найти в разделе **Обновления** .

  |Параметр политики|Подробные сведения|
    |------------------|--------------------|
    |**Частота обнаружения обновлений и приложений (в часах)** |Укажите, насколько часто (диапазон: 8–22 часа) Intune будет проверять наличие новых обновлений и приложений.<br /><br />Рекомендуемое значение: **8** часов.|
    |**Автоматическая установка обновлений и приложений или установка с запросом** |Указывает, выполняется ли установка значений автоматически или после запроса пользователя перед установкой. Кроме того с помощью этого параметра можно запланировать установку обновлений и приложений.<br /><br />Параметр **Устанавливать обновления и приложения автоматически по расписанию** устанавливает обновления и приложения в соответствии с заданным расписанием.<br /><br />Зависимый параметр политики **Использовать автоматическое обслуживание для компьютеров Windows**  указывает, что приложения и обновления устанавливаются в период автоматического обслуживания Windows.<br /><br />**Запрашивать установку у пользователя** — при наличии обновлений пользователю направляется запрос на их установку.<br /><br />Рекомендуемые значения<br /><br />**Устанавливать обновления и приложения автоматически по расписанию** — установлен.<br /><br />**Запланированный день: каждый день**<br /><br />**Запланированное время: 03:00**<br /><br />**Использовать автоматическое обслуживание для компьютеров Windows** — установлен.|
    |**Разрешить немедленную установку обновлений, не прерывающих работу Windows** |**Разрешить** — устанавливать обновления сразу после скачивания, за исключением обновлений, установка которых требует прерывания работы или перезапуска Windows. Такие обновления устанавливаются в соответствии со значением параметра **Автоматическая установка обновлений или запрос установки** .<br /><br />**Не разрешать** — устанавливать обновления в соответствии со значением параметра **Автоматическая установка обновлений или установка с запросом**.<br /><br />Рекомендуемое значение: **Allow** |
    |**Задержка перезагрузки Windows после установки запланированных обновлений и приложений (в минутах)** |Указывает время ожидания (от 1 до 30 минут) перед перезапуском Windows после установки плановых обновлений и приложений.<br /><br />Рекомендуемое значение: **15 минут** |
    |**Задержка после перезагрузки Windows для начала установки отсутствующих запланированных обновлений и приложений (в минутах)** |Задает промежуток времени (1–60 минут) после перезапуска Windows, после которого следует начинать установку обновлений и приложений, если запланированное обновление было пропущено.<br /><br />Рекомендуемое значение: **5 минут**.|
    |**Разрешить вошедшему в систему пользователю контролировать перезагрузку Windows после установки запланированных обновлений и приложений** |Указывает, может ли пользователь, выполнивший вход в систему, отложить перезапуск Windows (значение **Да**), или он получит уведомление об автоматическом перезапуске Windows (значение **Нет**). Если при завершении установки плановых обновлений и приложений в системе нет пользователей, перезапуск Windows при необходимости будет выполнен автоматически. Если задано значение **Нет**, по умолчанию время ожидания до перезапуска Windows составляет 5 минут.<br /><br />Рекомендуемое значение: **Да**|
    |**Запрашивать разрешение на перезапуск Windows у пользователя при обязательном обновлении агента клиента Microsoft Intune** |Указывает, будет ли пользователю, выполнившему вход в систему, предлагаться перезапустить Windows, если обязательное обновление клиента Intune требует перезапуска Windows.<br /><br />Рекомендуемое значение: **Да**|
    |**Расписание установки обязательных обновлений агента клиента Microsoft Intune** |Задает расписание установки обновлений для клиента.<br /><br />Рекомендуемое значение: не настроено|
    |**Задержка между запросами на перезагрузку Windows после установки запланированных обновлений и приложений (в минутах)** |Задает периодичность (1–1440 минут), с которой пользователю предлагается перезапустить Windows, если установлено запланированное обновление или приложение, требующее перезапуска Windows, и пользователь отложил перезагрузку.<br /><br />Рекомендуемое значение: **30 минут**. |

## <a name="update-software-made-by-microsoft"></a>Обновление программного обеспечения Майкрософт
Обновление программного обеспечения Майкрософт не требует от вас больших усилий. Тем не менее, перед началом работы необходимо настроить два параметра.

-   **Категории продуктов и классификации обновлений** — определяет категории и классификации обновлений, которые необходимо сделать доступными для компьютеров. Например, можно выбрать установку только критических обновлений для Microsoft Office.

-   **Автоматические правила утверждения** — эти правила автоматически утверждают некоторые типы обновлений, снижая нагрузку на администратора. Например, можно задать автоматическое утверждение для всех критических обновлений программного обеспечения.

Ниже приведены процедуры подготовки к использованию обновлений программного обеспечения.

### <a name="configure-the-product-categories-and-update-classifications-you-want-to-make-available-to-managed-computers"></a>Настройка категорий продуктов и классификаций обновлений, которые требуется сделать доступными для управляемых компьютеров

1.  В [консоли администрирования Microsoft Intune](https://manage.microsoft.com/) выберите **Администрирование** &gt; **Обновления**.

2.  На странице **Параметры службы: обновления** в списке **Категория продуктов** выберите категории обновления, которые требуется сделать доступными для компьютеров. Обратите внимание, что часто используемые обновления выбраны по умолчанию.

    > [!IMPORTANT]
    > Чтобы гарантировать, что компьютеры получают обновления, утвержденные администратором, параметр групповой политики служб WSUS **Указать размещение службы обновлений Майкрософт в интрасети** не должен применяться к компьютерам, зарегистрированным в Intune.

3.  В списке **Категория обновления** выберите классы обновлений, которые требуется сделать доступными для управляемых компьютеров. И в этом разделе типичные варианты выбираются по умолчанию.

4.  Нажмите кнопку **Сохранить**, чтобы сохранить настройки.

### <a name="to-configure-automatic-approval-rules-for-software-updates"></a>Настройка правил автоматического утверждения для обновлений программного обеспечения

1.  В [консоли администрирования Microsoft Intune](https://manage.microsoft.com/) выберите **Администрирование** &gt; **Обновления**.

2.  В разделе **Правила автоматического утверждения** страницы **Параметры сервера: обновления** нажмите кнопку **Создать**.

3.  На странице **Общие** мастера создания правил автоматического утверждения укажите имя и необязательное описание правила.

4.  На странице **Категории продуктов** выберите продукты, для которых необходимо утверждать обновления автоматически.

5.  На странице **Классификации обновлений** укажите классификации обновлений, которые требуется утверждать автоматически.

6.  На странице **Развертывание** выполните следующие действия.

    -   Выберите группы компьютеров, для которых требуется развернуть новое правило, а затем нажмите кнопку **Добавить**.

    -   Чтобы указать крайний срок установки обновлений, установите флажок **Задать принудительный срок установки для этих обновлений** , а затем в списке **Крайний срок установки** выберите предельный срок установки.

        > [!NOTE]
        > Если указан крайний срок установки, по его прошествии управляемому компьютеру может потребоваться одна или несколько перезагрузок.

    -   По завершении нажмите кнопку **Далее**.

7.  На странице **Сводка** проверьте параметры для нового правила, а затем нажмите кнопку **Готово**.

Новое правило появится в разделе **Правила автоматического утверждения** страницы **Параметры службы: обновления**.

> [!NOTE]
> Созданное правило автоматического утверждения утверждает только будущие обновления и не утверждает автоматически обновления, которые уже существуют в Intune. Для утверждения этих обновлений требуется запустить правило автоматического утверждения.


### <a name="to-edit-run-or-delete-an-automatically-approved-update-rule"></a>Изменение, запуск или удаление правила автоматического утверждения обновлений

1.  В [консоли администрирования Microsoft Intune](https://manage.microsoft.com/) выберите **Администрирование** &gt; **Обновления**.

2.  В разделе **Правила автоматического утверждения** выберите правило и выполните одно из следующих действий.

    -   Чтобы изменить правило, нажмите кнопку **Изменить**, а затем измените его параметры в **мастере правил автоматического утверждения обновлений**.

    -   Чтобы запустить правило, нажмите кнопку **Выполнить выбранные**.

    -   Чтобы удалить правило, нажмите кнопку **Удалить**.

        > [!NOTE]
        > Удаление правила не влияет на обновления, утвержденные в результате применения удаляемого правила.

## <a name="update-software-not-made-by-microsoft"></a>Обновление стороннего программного обеспечения
Можно развертывать обновления для стороннего программного обеспечения. Для этого используется мастер **Отправка обновлений** , с помощью которого обновление передается в облачное хранилище, после чего обновление можно утвердить или отклонить, как и обновления для ПО Майкрософт.

### <a name="to-upload-and-configure-a-third-party-update"></a>Загрузка и настройка сторонних обновлений

1.  В [консоли администрирования Microsoft Intune](https://manage.microsoft.com/) выберите **Обновления** &gt; **Обзор** &gt; **Отправка**.

2.  На странице **Файлы обновления** нажмите кнопку **Обзор**, чтобы выбрать файлы установки, необходимые для установки пакета обновления. Это может быть файл установщика Windows (MSI-файл), исправление установщика Windows (MSP-файл) или EXE-файл. Кроме того, можно включить любые дополнительные файлы или папки, находящиеся в той же папке, что и файл установки.

    Будет показан общий размер файлов, выбранных для отправки. Обратите внимание на то, что размер файлов установки после распаковки или извлечения не учитывается.

3.  После указания файлов установки откроется страница **Описание обновления**, на которой приводятся название программы, описание и классификация, извлеченные Intune из файлов установки ПО. Можно выбрать классификацию, чтобы отметить тип развертываемого обновления ("Обновления", "Критические обновления", "Обновления безопасности", "Накопительные пакеты обновления", "Пакеты обновления"). Завершив настройку, нажмите кнопку **Далее**.

4.  На странице мастера **Требования** выберите архитектуру (32-, 64-разрядную или обе) и операционные системы управляемых компьютеров, к которым будет применяться данное обновление.

5.  На странице **Правила обнаружения** укажите, каким образом Intune определяет наличие данного обновления на управляемых компьютерах. Если используется параметр по умолчанию **Использовать правила обнаружения, заданные по умолчанию**, Intune всегда будет однократно устанавливать пакет обновления на каждом целевом компьютере.

    > [!NOTE]
    > Если выбранный файл установки обновления представляет собой MSI- или MSP-файл, страница мастера **Правила обнаружения** не отображается. Это связано с тем, что файлы установщика Windows (MSI) и MSP-файлы содержат собственные инструкции по обнаружению ранее установленных обновлений.

    Выберите одно или несколько правил определения наличия обновления на управляемых компьютерах:

    -   **Файл существует**

    -   **Код продукта MSI существует**

    -   **Раздел реестра существует**

6.  Укажите дополнительные сведения, которые требуются для настройки правила обнаружения, такие как имя и путь к файлу, код продукта установщика Windows или раздел реестра, а затем нажмите кнопку **Далее**.

7.  На странице мастера **Необходимые условия** указывается программное обеспечение, которое должно быть установлено, прежде чем можно будет установить это обновление. Можно указать **Нет**, выбрать программный пакет, уже добавленный и управляемый с помощью Intune, или указать одно из следующих правил для описания программного обеспечения:

    -   **Файл существует**

    -   **Код продукта MSI существует**

    -   **Раздел реестра существует**

8.  Укажите дополнительные сведения, которые требуются для настройки правила обнаружения, такие как имя и путь к файлу, код продукта установщика Windows или раздел реестра, а затем нажмите кнопку **Далее**.

9. На странице **Аргументы командной строки** мастера можно добавить необходимые свойства установки в командную строку установки, чтобы изменить поведение файла установки. Например, некоторое программное обеспечение поддерживает свойство **/q** для включения автоматической установки. Сведения о поддерживаемых аргументах командной строки см. в документации к программному пакету. Укажите необходимые аргументы командной строки, а затем нажмите кнопку **Далее**.

    > [!NOTE]
    > Если обновление не поддерживает автоматическую установку, его нельзя устанавливать с помощью Intune.

10. На странице мастера **Коды возврата** можно указать, каким образом будут интерпретироваться коды возврата установки обновления. По умолчанию Intune использует стандартные коды возврата для оповещения об успешной или неудачной установке пакета обновления. Предоставляются следующие коды возврата:

|Код возврата|Подробные сведения|
|---------------|------------------|
|**0**|Успех|
|**3010**|Успех при перезапуске|

11. Коды возврата, не указанные в списке, свидетельствуют о сбое.
Некоторые обновления используют нестандартные интерпретации кодов возврата. В этом случае можно указать собственные интерпретации кодов возврата.

12. Укажите или измените необходимые коды возврата, а затем нажмите кнопку **Далее**.

13. На странице мастера **Сводка** просмотрите действия, которые будут выполняться, а затем нажмите кнопку **Отправить**, чтобы завершить работу мастера.

Отправленное обновление будет сохранено в облачном хранилище Intune. В случае нехватки свободного места для отправки пакета обновления пользователь получает уведомление об этом в процессе отправки. Intune не может определить, достаточно ли в хранилище места, до тех пор пока не начнется отправка обновления, так как после распаковки файлы установки и программы установки занимают больше места, чем в сжатом виде.

После отправки в Intune стороннее обновление отображается в рабочей области **Обновления** области **Все обновления**. Обновление можно утвердить и установить. Дополнительные сведения см. в следующем разделе "Утверждение и отклонение обновлений".

## <a name="approve-and-decline-updates"></a>Утверждение и отклонение обновлений
Когда обновления будут готовы к установке, на странице **Обзор обновлений** рабочей области **Обновления** в разделе **Состояние обновления**будет выведено сообщение. Щелкните это сообщение, чтобы открыть страницу **Все обновления** и просмотреть, какие обновления готовы к утверждению.

Чтобы упростить поиск обновлений, можно воспользоваться списком **Фильтры** . Например, можно вывести на экран только обновления, завершившиеся сбоем, или обновления, замененные другими.

После выбора обновления из списка становятся доступными другие команды, которые позволяют управлять обновлениями, как показано в следующей таблице:

|Задача|Подробные сведения|
|--------|--------------------|
|**Просмотреть свойства**|Выводит подробные сведения об обновлении, включая число компьютеров, для которых оно применимо.|
|**Правка**|Только для сторонних обновлений. Позволяет редактировать свойства обновления.|
|**Утвердить**|Служит для утверждения выбранного обновления и позволяет настроить, в каких группах оно будет развертываться. Дополнительные сведения см. в разделе **Утверждение обновлений** этой статьи.|
|**Отклонить**|Удаляет все предыдущие утверждения для обновления и скрывает обновление из представлений по умолчанию. Кроме того, будут удалены все данные отчетов для обновления.<br /><br />Если позднее потребуется найти отклоненное обновление, задайте для фильтра на странице **Все обновления** значение **Отклонено**. Затем это обновление можно утвердить по мере необходимости.<br /><br />Обновление нельзя утвердить в консоли администрирования Intune, если оно было отклонено из-за истечения срока действия обновления в Центре обновления Майкрософт.<br /><br />При удалении политики обновления, развернутой на компьютерах, значения параметров, заданные с помощью этой политики, будут заменены на этих компьютерах значениями, которые по умолчанию используются в операционной системе.|
|**Удалить**|Только для сторонних обновлений. Удаление выбранного обновления.|
|**Отправка**|Запустите мастер **отправки обновлений**, который позволяет отправлять сторонние обновления для развертывания.|

### <a name="to-approve-updates"></a>Утверждение обновлений

1.  В [консоли администрирования Microsoft Intune](https://manage.microsoft.com/) выберите **Обновления** &gt; **Обзор** &gt; **Новые обновления для утверждения**.

    В рабочей области **Обновления** выберите **Обзор** &gt; **Новые обновления для утверждения**.

    > [!NOTE]
    > Ссылка **Новые обновления для утверждения** отображается в области **Состояние обновления** , только при наличии хотя бы одного управляемого компьютера, для которого требуется утвердить обновления.

2.  Выберите обновление, просмотрите его свойства внизу страницы, чтобы убедиться, что его нужно утвердить, а затем нажмите кнопку **Утвердить**. Можно выбрать несколько обновлений, удерживая нажатой клавишу **CTRL** и выбирая нужные элементы.

3.  На странице **Выбор групп** выберите группу, для которой требуется развернуть обновления, а затем нажмите кнопку **Добавить**. Завершив выбор групп, нажмите кнопку **Далее**.

4.  На странице **Действие развертывания** для каждой группы в списке выполните следующие действия.

    -   В списке **Утверждение** выберите один из следующих вариантов.

        -   **Обязательная установка** — установка обновления на компьютерах, входящих в состав указанной группы.

        -   **Не устанавливать** — только передача сведений о применимости; обновление не устанавливается.

        -   **Доступная установка** — пользователь может установить приложение по требованию, используя корпоративный портал.

        -   **Удалить** — удаление обновлений с компьютеров, входящих в состав целевой группы.

            > [!IMPORTANT]
            > Обновление удаляется, даже если оно не было установлено Intune.

    -   В списке **Крайний срок** выберите один из следующих вариантов.

        -   **Нет** — крайний срок установки обновления не задан, пользователи могут многократно отклонять установку обновления.

        -   **Как можно скорее** — установка обновления на целевых компьютерах осуществляется при первой возможности.

        -   **Другой** — задание даты и времени установки утвержденных обновлений.

        -   **Одна неделя**, **Две недели**, **Один месяц** — установка обновлений в течение указанного периода.

5.  Нажмите кнопку **Готово**, чтобы сохранить параметры, или кнопку **Отмена**, чтобы вернуться к списку обновлений без сохранения изменений.

    > [!IMPORTANT]
    > Если действие **Не устанавливать**, **Обязательная установка**или **Удалить** не задано явно для дочерней группы, действие, настроенное для родительской группы, будет наследоваться всеми дочерними группами.

6.  Напоминания об обновлении будут отображаться в области сведений в нижней части страницы **Все обновления** .


### <a name="see-also"></a>См. также
[Политики для защиты компьютеров с ОС Windows](policies-to-protect-windows-pcs-in-microsoft-intune.md)
