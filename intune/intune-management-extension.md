---
title: "Управление сценариями PowerShell в Intune для устройств Windows 10"
titlesuffix: Azure portal
description: "Сведения об отправке сценариев PowerShell в Intune для выполнения на устройствах Windows 10."
keywords: 
author: dougeby
manager: angrobe
ms.date: 11/08/2017
ms.topic: article
ms.prod: 
ms.service: microsoft-intune
ms.technology: 
ms.assetid: 768b6f08-3eff-4551-b139-095b3cfd1f89
ms.reviewer: 
ms.suite: ems
ms.custom: intune-azure
ms.openlocfilehash: 1bdd9002c70ea8d9e8b16b73d4d8416eeec3341b
ms.sourcegitcommit: 833b1921ced35be140f0107d0b4205ecacd2753b
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/04/2018
---
# <a name="manage-powershell-scripts-in-intune-for-windows-10-devices"></a>Управление сценариями PowerShell в Intune для устройств Windows 10
Расширение управления Intune позволяет отправлять сценарии PowerShell в Intune для выполнения на устройствах Windows 10. Расширение управления дополняет возможности управления мобильными устройствами (MDM) Windows 10 и упрощает переход на современные принципы управления.

## <a name="moving-to-modern-management"></a>Переход на современные принципы управления
Вычислительная среда конечного пользователя находится на этапе цифрового преобразования. Классические ИТ-системы работают по схеме, где используется одна платформа для устройств, применяются корпоративные устройства, пользователи занимаются своими обязанностями в офисе, а множество ИТ-процессов выполняется вручную и в реактивном режиме. Но современные организации стремятся перейти на поддержку нескольких платформ как для личных, так и для корпоративных устройств, предоставить пользователям возможность работать из любого места и организовать автоматизированные и функционирующие в упреждающем режиме ИТ-процессы. 

Службы MDM, такие как Microsoft Intune, могут управлять устройствами Windows 10 с помощью протокола MDM. Встроенный клиент управления Windows 10 поддерживает возможности взаимодействия с Intune для реализации задач управления предприятием. Все это упрощает переход к принципам современного управления на устройствах Windows 10. Но вам могут потребоваться некоторые возможности, например, расширенная конфигурация устройств, устранение неполадок и управление устаревшими приложениями Win32, которые в настоящее время недоступны в Windows 10 MDM. Для их использования можно запустить программный клиент Intune на устройствах Windows 10. В итоге вы не сможете работать с новыми функциями, предоставляемыми MDM Windows 10. [Сравните клиентское ПО Intune и MDM Windows 10](https://docs.microsoft.com/intune-classic/deploy-use/pc-management-comparison).

Расширение управления Intune дополняет встроенные возможности Windows 10 MDM. Можно создать сценарии PowerShell для запуска на устройствах Windows 10, предоставляющих нужную функциональность. Например, можно создать сценарий PowerShell, который устанавливает устаревшее приложение Win32 на устройствах Windows 10, отправить сценарий в Intune, назначить сценарий группе Azure Active Directory (AD) и запустите сценарий на устройствах Windows 10. Затем можно отслеживать состояние выполнения сценария на устройствах Windows 10 от начала до конца.

## <a name="prerequisites"></a>Предварительные условия
Для расширения управления Intune требуется выполнить следующие условия:
- устройства должны быть присоединены к Azure AD;
- устройства должны работать под управлением Windows 10 версии 1607 или более поздней.

## <a name="create-a-powershell-script-policy"></a>Создание политики сценария PowerShell 
1. Войдите на [портал Azure](https://portal.azure.com).
2. Выберите **Больше служб** > **Мониторинг и управление** > **Intune**.
3. В колонке **Intune** выберите пункт **Конфигурация устройства**.
4. В колонке **Конфигурация устройства** выберите **Управление** > **Сценарии PowerShell**.
5. В колонке **Сценарии PowerShell** выберите **Добавить сценарий**.
6. В колонке **Добавление сценария PowerShell** заполните поля **Имя** и **Описание** для сценария PowerShell.
7. В поле **Расположение сценария** укажите сценарий PowerShell. Размер сценария не должен превышать 10 КБ (ASCII) или 5 КБ (Юникод).
8. Щелкните **Настроить** и решите, следует ли выполнять сценарий с учетными данными пользователя на устройстве (**Да**) или в контексте системы (**нет**). По умолчанию сценарий выполняется в контексте системы. Выберите **Да**, если сценарий не требуется запускать в контексте системы. 
  ![Колонка добавления сценария PowerShell](./media/mgmt-extension-add-script.png)
9. Выберите, должен ли сценарий быть подписан доверенным издателем (**Да**). По умолчанию требование к подписыванию сценария отсутствует. 
10. Нажмите кнопку **ОК**, а затем нажмите кнопку **Создать**, чтобы сохранить сценарий.

## <a name="assign-a-powershell-script-policy"></a>Назначение политики сценария PowerShell
1. Войдите на [портал Azure](https://portal.azure.com).
2. Выберите **Больше служб** > **Мониторинг и управление** > **Intune**.
3. В колонке **Intune** выберите пункт **Конфигурация устройства**.
4. В колонке **Конфигурация устройства** выберите **Управление** > **Сценарии PowerShell**.
5. В колонке **Сценарии PowerShell** колонке выберите сценарий для назначения, а затем выберите пункты **Управление** > **Назначения**.
  ![Колонка добавления сценария PowerShell](./media/mgmt-extension-assignments.png)
 
6. Щелкните **Выбрать группы**, чтобы открыть список доступных групп Azure AD. 
7. Выберите одну или несколько групп пользователей, чьи устройства получат скрипт, и щелкните **Выбрать**, чтобы назначить политику для выбранных групп.

Расширение управления Intune синхронизируется с Intune каждый час. После назначения политики группам Azure AD выполняется сценарий PowerShell, после чего выводятся результаты выполнения. 
 
## <a name="monitor-run-status-for-powershell-scripts"></a>Отслеживание состояния выполнения сценариев PowerShell
На портале Azure можно отслеживать состояние выполнения сценариев PowerShell для пользователей и устройств.
1. Войдите на [портал Azure](https://portal.azure.com).
2. Выберите **Больше служб** > **Мониторинг и управление** > **Intune**.
3. В колонке **Intune** выберите пункт **Конфигурация устройства**.
4. В колонке **Конфигурация устройства** выберите **Управление** > **Сценарии PowerShell**.
5. В колонке **Сценарии PowerShell** выберите сценарий для отслеживания, а затем выберите **Монитор** и один из следующих отчетов.
   - **Состояние устройства**
   - **Состояние пользователя**
