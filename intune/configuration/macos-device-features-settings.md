---
title: Настройка параметров для функций устройств macOS в Microsoft Intune в Azure | Документация Майкрософт
description: Здесь показаны все параметры для настройки устройств macOS для AirPrint и настройки окна входа в систему для отображения или скрытия кнопок питания в Microsoft Intune. Кроме того, показано, как получить значения для параметров, определяющих IP-адрес, путь и порт сервера AirPrint в вашей сети. Используйте эти параметры в профилях конфигурации устройств macOS, чтобы настроить функции устройств MacOS
keywords: ''
author: MandiOhlinger
ms.author: mandia
manager: dougeby
ms.date: 02/18/2020
ms.topic: reference
ms.service: microsoft-intune
ms.subservice: configuration
ms.localizationpriority: medium
ms.technology: ''
ms.reviewer: ''
ms.suite: ems
search.appverid: ''
ms.custom: intune-azure
ms.collection: M365-identity-device-management
ms.openlocfilehash: df5b53be159fd082090e61fd736e4c9329644c85
ms.sourcegitcommit: c780e9988341a20f94fdeb8672bd13e0b302da93
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/20/2020
ms.locfileid: "77512744"
---
# <a name="macos-device-feature-settings-in-intune"></a>Настройка параметров для функций устройств macOS в Intune

Intune включает в себя некоторые встроенные параметры для настройки функций на ваших устройствах MacOS. Например, администраторы могут добавлять принтеры AirPrint, выбирать способ входа пользователей, настраивать управление питанием, использовать проверку подлинности единого входа и многое другое.

Эти функции можно использовать для управления устройствами macOS в рамках решения для управления мобильными устройствами.

В этой описаны все параметры и их назначение. Здесь также описывается, как получить IP-адреса, пути и порты принтеров AirPrint, используя приложение "Терминал" (эмулятор). Дополнительные сведения о возможностях устройств см. в статье [Add iOS or macOS device feature settings in Intune](device-features-configure.md) (Добавление параметров для возможностей устройств iOS или macOS в Intune).

## <a name="before-you-begin"></a>Подготовка к работе

[Создайте профиль конфигурации устройства macOS](device-features-configure.md).

> [!NOTE]
> Эти параметры применяются к различным типам регистрации, при этом некоторые параметры применяются ко всем вариантам регистрации. Дополнительные сведения о различных типах регистрации см. в статье о [регистрации устройств с macOS](../enrollment/macos-enroll.md).

## <a name="airprint"></a>AirPrint

### <a name="settings-apply-to-device-enrollment-and-automated-device-enrollment"></a>Область применения параметров: регистрация устройств и автоматическая регистрация устройств. 

- **IP-адрес**. Введите IPv4- или IPv6-адрес принтера. Если для обозначения принтеров используются имена узлов, IP-адрес можно получить, проверив связь с принтером с помощью приложения "Терминал". Дополнительные сведения см. в этой статье в разделе [Получение IP-адреса и пути](#get-the-ip-address-and-path).
- **Путь**. Введите путь для принтера. Как правило, для принтеров в сети путь будет таким: `ipp/print`. Дополнительные сведения см. в этой статье в разделе [Получение IP-адреса и пути](#get-the-ip-address-and-path).
- **Порт** (iOS 11.0, iPadOS 13.0 и более поздних версий). Укажите порт прослушивания для целевого объекта AirPrint. Если это свойство не указано, AirPrint будет использовать порт по умолчанию.
- **TLS** (iOS 11.0, iPadOS 13.0 и более поздних версий). Выберите значение **Включить**, чтобы защитить подключения AirPrint с помощью TLS.

- **Добавить** — кнопка для добавления сервера AirPrint. Можно добавить несколько серверов AirPrint.

Также можно **импортировать** файл с разделителями-запятыми (.csv), содержащий список принтеров AirPrint. Кроме того, добавив принтеры AirPrint в Intune, вы можете **экспортировать** этот список.

### <a name="get-the-ip-address-and-path"></a>Получите IP-адреса и пути

Чтобы добавить серверы AirPrinter, вам потребуется IP-адрес принтера, путь к ресурсу и порт. Ниже описывается, как получить эту информацию.

1. На устройстве Mac, подключенном к той же локальной сети (подсети), что и принтеры AirPrint, откройте **Терминал** (меню **/Приложения/Служебные программы**).
2. В приложении "Терминал" введите `ippfind` и нажмите клавишу ВВОД.

    Запишите сведения о принтере. Например, приложение может вернуть такой адрес: `ipp://myprinter.local.:631/ipp/port1`. Первая часть — это имя принтера. Последняя часть (`ipp/port1`) — это путь к ресурсу.

3. В приложении "Терминал" введите `ping myprinter.local` и нажмите клавишу ВВОД.

   Запишите IP-адрес. Например, приложение может вернуть такой адрес: `PING myprinter.local (10.50.25.21)`.

4. Используйте значения IP-адреса и пути к ресурсу. В этом примере IP-адрес — `10.50.25.21`, а путь к ресурсу — `/ipp/port1`.

## <a name="login-items"></a>Элементы входа

### <a name="settings-apply-to-all-enrollment-types"></a>Область применения параметров: Все типы регистрации.

- **Файлы, папки и пользовательские приложения**. **Добавьте** путь к файлу, папке, пользовательскому или системному приложению, которое требуется открыть при входе пользователя на устройство. Системные приложения или приложения, созданные или настроенные для вашей организации, обычно находятся в папке `Applications` и имеют путь `/Applications/AppName.app`. 

  Можно добавить несколько файлов, папок и приложений. Например, введите:  
  
  - `/Applications/Calculator.app`
  - `/Applications`
  - `/Applications/Microsoft Office/root/Office16/winword.exe`
  - `/Users/UserName/music/itunes.app`
  
  При добавлении любого приложения, папки или файла обязательно вводите правильный путь. Не все элементы находятся в папке `Applications`. Если пользователь переместит элемент из одного расположения в другое, путь изменяется. Перемещенный элемент не будет открываться при входе пользователя в систему.

## <a name="login-window"></a>Окно входа в систему

### <a name="settings-apply-to-device-enrollment-and-automated-device-enrollment"></a>Область применения параметров: регистрация устройств и автоматическая регистрация устройств.

#### <a name="window-layout"></a>Макет Window

- **Отображение дополнительных сведений в строке меню**. Когда в строке меню выбрана область времени, значение **Разрешить** включает отображение имени узла и версии macOS. **Не настроено** (по умолчанию). Эти сведения не отображаются в строке меню.
- **Заголовок**. Введите сообщение, которое будет отображаться на странице входа на экране устройства. Например, введите сведения о вашей организации, приветственное сообщение, информацию о потерянных и найденных объектах и т. д.
- **Выберите формат входа**. Выберите, каким образом пользователи входят на устройство. Доступны следующие параметры:
  - **Запрашивать имя пользователя и пароль (по умолчанию)** . Требует вводить имя пользователя и пароль.
  - **Отобразить список всех пользователей, запрашивать пароль**. Требует от пользователей выбрать свое имя пользователя из списка пользователей и затем ввести пароль. Кроме того, настройте следующее:

    - **Локальные пользователи**. Значение **Скрыть** убирает учетные записи локальных пользователей в списке пользователей; к ним могут относиться стандартные учетные записи и учетные записи администраторов. Отображаются только учетные записи пользователей сети и системы. **Не настроено** (по умолчанию) — отображает локальные учетные записи пользователей в списке пользователей.
    - **Мобильные учетные записи**. Значение **Скрыть** убирает мобильные учетные записи в списке пользователей. **Не настроено** (по умолчанию) — отображает мобильные учетные записи пользователей в списке пользователей. Некоторые мобильные учетные записи могут отображаться как пользователи сети.
    - **Пользователи сети**. Выберите значение **Показать**, чтобы отобразить пользователей сети в списке пользователей. **Не настроено** (по умолчанию) — не отображает учетные записи локальных пользователей в списке пользователей.
    - **Администраторы**. Значение **Скрыть** убирает учетные записи администраторов в списке пользователей. **Не настроено** (по умолчанию) — отображает учетные записи администраторов в списке пользователей.
    - **Другие пользователи**. Выберите значение **Показать**, чтобы отобразить пользователей категории **Другие...** в списке пользователей. **Не настроено** (по умолчанию) не отображает учетные записи других пользователей в списке пользователей.

#### <a name="login-screen-power-settings"></a>Параметры управления питанием экрана входа

- **Кнопка "Завершение работы"** . Значение **Скрыть** убирает кнопку завершения работы на экране входа. Если выбрано значение **Не настроено** (по умолчанию), кнопка завершения работы отображается.
- **Кнопка "Перезагрузка"** . Значение **Скрыть** убирает кнопку перезагрузки на экране входа. Если выбрано значение **Не настроено** (по умолчанию), кнопка перезагрузки отображается.
- **Кнопка "Спящий режим"** . Значение **Скрыть** убирает кнопку спящего режима на экране входа. Если выбрано значение **Не настроено** (по умолчанию), кнопка перехода в спящий режим отображается.

#### <a name="other"></a>другой

- **Отключить вход пользователя из консоли**. Значение **Отключить** скрывает командную строку macOS, используемую для входа. Для обычных пользователей **отключите** этот параметр. Значение **Не настроено** (по умолчанию) позволяет опытным пользователям войти в систему с помощью командной строки macOS. Чтобы войти в режим консоли, пользователи вводят `>console` в поле "Имя пользователя" и должны пройти проверку подлинности в окне консоли.

#### <a name="apple-menu"></a>Меню Apple

После того, как пользователи войдут в устройства, следующие настройки влияют на их возможности.

- **Отключить завершение работы**. Значение **Отключить** запрещает пользователям выбирать параметр **Завершение работы** после входа пользователя. Значение **Не настроено** (по умолчанию) позволяет пользователям выбирать пункт меню **Завершение работы** на устройстве.
- **Отключить перезагрузку**. Значение **Отключить** запрещает пользователям выбирать параметр **Перезагрузка** после входа пользователя. Значение **Не настроено** (по умолчанию) позволяет пользователям выбирать пункт меню **Перезагрузка** на устройстве.
- **Отключить завершение работы**. Значение **Отключить** запрещает пользователям выбирать параметр **Завершение работы** после входа пользователя. Значение **Не настроено** (по умолчанию) позволяет пользователям выбирать пункт меню **Power off** (Выключение питания) на устройстве.
- **Отключить выход из системы (macOS 10.13 и более поздние версии)** . Значение **Отключить** запрещает пользователям выбирать параметр **Выйти из системы** после входа пользователя. Значение **Не настроено** (по умолчанию) позволяет пользователям выбирать пункт меню **Log out** (Выход из системы) на устройстве.
- **Отключить экран блокировки (macOS 10.13 и более поздние версии)** . Значение **Отключить** запрещает пользователям выбирать параметр **Экран блокировки** после входа пользователя. Значение **Не настроено** (по умолчанию) позволяет пользователям выбирать пункт меню **Экран блокировки** на устройстве.

## <a name="single-sign-on-app-extension"></a>Расширение для приложения единого входа

Данная функция применяется к:

- macOS 10.15 и более поздние версии;

### <a name="settings-apply-to-all-enrollment-types"></a>Область применения параметров: Все типы регистрации. 

- **Тип расширения единого входа для приложения**. Выберите тип расширения для учетных данных единого входа для приложения. Доступны следующие параметры:

  - **Не настроено**. Расширения приложения не используются. Чтобы отключить расширение приложения, переключите тип расширения единого входа для приложения на значение **Не настроено**.
  - **Перенаправление**. Используйте универсальное настраиваемое расширение приложения перенаправления для единого входа с помощью современных способов проверки подлинности. Убедитесь, что вы знаете идентификаторы расширения и команды для расширения приложения своей организации.
  - **Учетные данные**. Используйте универсальное настраиваемое расширение учетных данных для приложения, чтобы выполнять единый вход с помощью потоков проверки подлинности с запросом и ответом. Убедитесь, что вы знаете идентификаторы расширения и команды для расширения единого входа для приложения своей организации.  
  - **Kerberos**. Используйте встроенное расширение Apple Kerberos, которое входит в macOS Catalina 10.15 и более поздних версий. Это расширение является версией расширения приложения **Учетные данные**, предназначенной для Kerberos.

  > [!TIP]
  > С помощью типов **Перенаправление** и **Учетные данные** вы добавляете свои значения конфигурации для передачи через расширение. Если вы используете тип **Учетные данные**, рассмотрите применение встроенных параметров конфигурации, предоставляемых Apple с типом **Kerberos**.

- **Идентификатор расширения** (для типов "Перенаправление" и "Учетные данные"). Введите идентификатор пакета, который определяет расширение единого входа для приложения, например `com.apple.ssoexample`.
- **Идентификатор Team ID** (для типов "Перенаправление" и "Учетные данные"). Введите идентификатор команды для расширения единого входа для приложения. Идентификатор команды — это создаваемая Apple строка, которая состоит из 10 символов (цифр и букв), например `ABCDE12345`. 

  Дополнительные сведения см. на странице [Locate your Team ID](https://help.apple.com/developer-account/#/dev55c3c710c) (Поиск идентификатора команды) — откроется веб-сайт Apple.

- **Область** (для типов "Учетные данные" и Kerberos). Введите имя области определения проверки подлинности. Имя области следует писать прописными буквами, например `CONTOSO.COM`. Как правило, имя области совпадает с именем домена DNS, но пишется только прописными буквами.

- **Домены** (для типов "Учетные данные" и Kerberos). Введите имена доменов или узлов для сайтов, на которых можно проходить проверку подлинности с помощью единого входа. Например, если веб-сайт — `mysite.contoso.com`, тогда `mysite` — имя узла, а `contoso.com` — доменное имя. Когда пользователи будут подключаться к любому из этих сайтов, расширение приложения будет обрабатывать запрос проверки подлинности. Эта проверка подлинности позволяет пользователям входить на сайты с помощью Face ID, Touch ID или ПИН-кода либо секретного кода Apple.

  - Все домены в расширении единого входа для приложения в Intune должны быть уникальными. Один и тот же домен нельзя указывать повторно ни в одном профиле расширения единого входа для приложения, даже если вы используете разные типы расширений единого входа.
  - В этих именах доменов не учитывается регистр.

- **URL-адреса** (только для типа "Перенаправление"). Введите префиксы URL-адресов поставщиков удостоверений, от имени которых расширение перенаправления будет выполнять единый вход. При перенаправлении пользователя по этим адресам запускается расширение приложения для выполнения единого входа.

  - Все URL-адреса в профилях расширения единого входа для приложения в Intune должны быть уникальными. Один и тот же домен нельзя указывать повторно ни в одном профиле расширения единого входа для приложения, даже если вы используете разные типы расширений единого входа.
  - URL-адреса должны начинаться с "http://" или "https://".

- **Дополнительная конфигурация** (для типов "Перенаправление" и "Учетные данные"). Введите дополнительные данные, связанные с расширением, чтобы передать в расширение единого входа для приложения:
  - **Ключ**. Введите имя элемента, который необходимо добавить, например `user name`.
  - **Тип**. Введите тип данных. Доступны следующие параметры:

    - Строка
    - Логическое значение. В поле **Значение конфигурации** введите `True` или `False`.
    - Целое число. В поле **Значение конфигурации** введите число.
    
  - **Значение**. Введите данные.
  
  - **Добавить**. Выберите ключи конфигурации, которые необходимо добавить.

- **Keychain usage** (Использование цепочки ключей) (только для типа Kerberos). Выберите значение **Заблокировать**, чтобы запретить сохранение паролей в цепочке ключей. Если оставить значение **Не настроено** (по умолчанию), пароли будут сохраняться и храниться в цепочке ключей.  
- **Face ID, Touch ID или секретный код** (только для типа Kerberos). Если выбрать значение **Требовать**, пользователям необходимо будет вводить Face ID, Touch ID или секретный код Apple, чтобы войти в добавленные домены. Если оставить значение **Не настроено** (по умолчанию), пользователям не нужно будет использовать биометрические данные или секретный код для входа.
- **Область по умолчанию** (только для типа Kerberos). Выберите вариант **Включить**, и значение, введенное для параметра **Область**, будет использоваться в качестве значения области по умолчанию. Если оставить вариант **Не настроено** (по умолчанию), область по умолчанию не будет задана.

  > [!TIP]
  > - Выберите значение **Включить** для этого параметра, если необходимо настроить несколько расширений Kerberos для приложения в своей организации.
  > - Выберите значение **Включить** для этого параметра, если вы используете несколько областей. Это позволяет задать значение параметра **Область** в качестве области по умолчанию.
  > - Если есть только одна область, оставьте значение **Не настроено** (по умолчанию) для этого параметра.

- **Автообнаружение** (только для типа Kerberos). Если задано значение **Блокировать**, то расширение Kerberos не использует автоматически протокол LDAP и DNS для определения имени сайта Active Directory. Значение **Не настроено** (по умолчанию) позволяет расширению автоматически находить имя сайта Active Directory.
- **Изменение паролей** (только для типа Kerberos). Значение **Блокировать** позволяет запретить пользователям изменять пароли, используемые для входа в указанные домены. Значение **Не настроено** (по умолчанию) разрешает изменения паролей.  
- **Синхронизация паролей** (только Kerberos). Выберите значение **Включить**, чтобы синхронизировать локальные пароли пользователей с Azure AD. При значении **Не настроено** (по умолчанию) синхронизация паролей с Azure AD отключена. Используйте этот параметр в качестве альтернативы или резервного варианта для единого входа. Этот параметр не работает, если пользователи входят с использованием мобильной учетной записи Apple.
- **Сложность пароля Active Directory в Windows Server** (только для типа Kerberos). Выберите значение **Требовать**, чтобы принудительно обеспечить выполнение требований к сложности пароля Active Directory для паролей пользователей. Дополнительные сведения см. в статье [Password must meet complexity requirements](https://docs.microsoft.com/windows/security/threat-protection/security-policy-settings/password-must-meet-complexity-requirements) (Пароль должен отвечать требованиям сложности). При значении **Не настроено** (по умолчанию) от пользователей не требуется соответствие паролей требованиям к паролям Active Directory.
- **Минимальная длина пароля** (только для типа Kerberos). Введите наименьшее количество символов, которое может быть в пароле пользователя. При значении **Не настроено** (по умолчанию) не требуется минимальная длина пароля для пользователей.
- **Лимит для повторного использования пароля** (только для типа Kerberos). Введите количество новых паролей от 1 до 24, которые нужно задать, прежде чем в домене можно будет использовать предыдущий пароль. При значении **Не настроено** (по умолчанию) ограничение на повторное использование пароля не применяется.
- **Минимальный возраст пароля** (только для типа Kerberos). Введите количество дней, в течение которых пароль должен использоваться в домене, прежде чем пользователь сможет его изменить. При значении **Не настроено** (по умолчанию) не требуется минимальный возраст паролей для их изменения.
- **Password expiration notification** (Уведомление об истечении срока действия пароля) (только для типа Kerberos). Введите количество дней до истечения срока действия пароля, за которое пользователь должен получать уведомление о том, что срок действия пароля его скоро истечет. При значении **Не настроено** (по умолчанию) задано такое количество дней: `15`.
- **Срок действия пароля** (только Kerberos): Укажите число дней до смены пароля на устройстве. **Не настроено** (по умолчанию) означает, что срок действия паролей пользователей никогда не истечет.
- **URL для изменения пароля** (только для типа Kerberos). Введите URL-адрес, по которому выполняется переход при инициации пользователем смены пароля Kerberos.
- **Имя субъекта** (только для типа Kerberos). Введите имя для субъекта Kerberos. Вам не нужно включать в него имя области. Например, в примере `user@contoso.com`, `user` — имя субъекта, а `contoso.com` — имя области.

  > [!TIP]
  > - В имени субъекта также можно использовать переменные путем ввода фигурных скобок `{{ }}`. Например, чтобы показать имя пользователя, введите `Username: {{username}}`. 
  > - Однако соблюдайте осторожность при подстановке переменных, так как они не проверяются в пользовательском интерфейсе и их регистр учитывается. Убедитесь, что указаны правильные данные.
  
- **Код сайта Active Directory** (только для типа Kerberos). Введите имя сайта Active Directory, который должно использовать расширение Kerberos. Возможно, вам не потребуется изменять это значение, так как расширение Kerberos может автоматически найти код сайта Active Directory.
- **Имя кэша** (только для типа Kerberos). Введите имя Generic Security Services (универсальных служб безопасности, GSS) для кэша Kerberos. Вероятнее всего, вам не потребуется указывать это значение.  
- **Password requirements message** (Сообщение о требованиях к паролю) (только для типа Kerberos). Введите текстовую версию требований к паролю в вашей организации, которая должна отображаться у пользователей. Это сообщение будет появляться, если не предъявляются требования к сложности пароля Active Directory или не указана минимальная длина пароля.  
- **ИД пакетов приложений** (только для типа Kerberos). **Добавьте** идентификаторы пакетов приложений, которые должны использовать единый вход на устройствах. Этим приложениям предоставляется доступ к билету на получение билетов Kerberos, билету проверки подлинности и проверке подлинности пользователей в службах, к которым у них есть доступ.
- **Сопоставление области домена** (только для типа Kerberos). **Добавьте** DNS-суффиксы доменов, которые необходимо сопоставить с вашей областью. Используйте этот параметр, если DNS-имена узлов не соответствуют имени области. Вероятнее всего, вам не нужно будет создавать это пользовательское сопоставление между доменами и областью.
- **Сертификат PKINIT** (только для типа Kerberos). **Выберите** сертификат шифрования с открытым ключом для первоначальной проверки подлинности (PKINIT), который можно использовать для проверки подлинности Kerberos. Вы можете выбрать сертификат [PKCS](../protect/certficates-pfx-configure.md) или [SCEP](../protect/certificates-scep-configure.md), добавленные в Intune. Дополнительные сведения о сертификатах см. в статье [Use certificates for authentication in Microsoft Intune](../protect/certificates-configure.md) (Использование сертификатов для проверки подлинности в Microsoft Intune).

## <a name="associated-domains"></a>Связанные домены

В Intune можно выполнять следующие задачи:

- добавить несколько связей между приложением и доменами;
- связать несколько доменов с одним приложением.

Данная функция применяется к:

- macOS 10.15 и более поздние версии;

### <a name="settings-apply-to-all-enrollment-types"></a>Область применения параметров: Все типы регистрации.

- **ИД приложения**. Введите идентификатор приложения, которое следует связать с веб-сайтом. Идентификатор приложения включает в себя идентификатор команды и идентификатор пакета: `TeamID.BundleID`.

  Идентификатор группы — это созданная Apple для разработчиков строка, которая состоит из 10 символов (букв и цифр), например `ABCDE12345`. Дополнительные сведения см. на странице [Locate your Team ID](https://help.apple.com/developer-account/#/dev55c3c710c)  (Поиск идентификатора команды) — откроется веб-сайт Apple.

  Идентификатор пакета однозначно определяет приложение и обычно форматируется в обратной нотации доменного имени. Например, идентификатор пакета Finder — `com.apple.finder`. Чтобы найти идентификатор пакета, используйте AppleScript в терминале:

  `osascript -e 'id of app "ExampleApp"'`

- **Домен**. Введите домен веб-сайта, который следует связать с приложением. Домен включает в себя тип службы и полное имя узла, например `webcredentials:www.contoso.com`.

  Чтобы сопоставить все поддомены связанного домена, введите `*.` (подстановочный знак в виде звездочки и точки) перед началом домена. Точка обязательна. Точные значения доменов имеют более высокий приоритет, чем домены с подстановочными знаками. Поэтому шаблоны из родительских доменов сопоставляются, *если* не найдено соответствие с полным именем поддомена.

  Тип службы может быть следующим:

  - **authsrv**: Расширение для приложения единого входа
  - **applink**. Универсальная ссылка.
  - **webcredentials**. Автозаполнение пароля.

- **Добавить**. Выберите, чтобы добавить приложения и связанные домены.

> [!TIP]
> Для устранения проблем на устройстве macOS выберите элементы **Системные настройки** > **Профили**. Убедитесь, что созданный профиль есть в списке профилей устройств. Если он указан, убедитесь, что в профиле есть раздел **Associated Domains Configuration** (Конфигурация связанных доменов) и там заданы правильные идентификатор приложения и домены.

## <a name="next-steps"></a>Дальнейшие шаги

[Назначьте профиль](device-profile-assign.md) и [отслеживайте его состояние](device-profile-monitor.md).

Вы также можете настроить возможности устройств в [iOS/iPadOS](ios-device-features-settings.md).
