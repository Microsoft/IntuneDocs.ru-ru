---
title: Настройка параметров для функций устройств macOS в Microsoft Intune в Azure | Документация Майкрософт
description: Здесь показаны все параметры для настройки устройств macOS для AirPrint и настройки окна входа в систему для отображения или скрытия кнопок питания в Microsoft Intune. Кроме того, показано, как получить значения для параметров, определяющих IP-адрес, путь и порт сервера AirPrint в вашей сети. Используйте эти параметры в профилях конфигурации устройств macOS, чтобы настроить функции устройств MacOS
keywords: ''
author: MandiOhlinger
ms.author: mandia
manager: dougeby
ms.date: 10/02/2019
ms.topic: reference
ms.service: microsoft-intune
ms.subservice: configuration
ms.localizationpriority: medium
ms.technology: ''
ms.reviewer: ''
ms.suite: ems
search.appverid: ''
ms.custom: intune-azure
ms.collection: M365-identity-device-management
ms.openlocfilehash: 17d0baeeb6b193be6acf8d6087c26a66b18642c5
ms.sourcegitcommit: 9013f7442bbface78feecde2922e8e546a622c16
ms.translationtype: MTE75
ms.contentlocale: ru-RU
ms.lasthandoff: 10/16/2019
ms.locfileid: "72506665"
---
# <a name="macos-device-feature-settings-in-intune"></a>Настройка параметров для функций устройств macOS в Intune

[!INCLUDE [azure_portal](../includes/azure_portal.md)]

Intune включает в себя некоторые встроенные параметры для настройки функций на ваших устройствах MacOS. Например, администраторы могут добавлять принтеры AirPrint, выбирать способ входа пользователей, настраивать элементы управления питанием, использовать проверку подлинности единого входа и многое другое.

Эти функции можно использовать для управления устройствами macOS в рамках решения для управления мобильными устройствами.

В этой описаны все параметры и их назначение. Здесь также описывается, как получить IP-адреса, пути и порты принтеров AirPrint, используя приложение "Терминал" (эмулятор). Дополнительные сведения о функциях устройств см. в подразделах [Добавление параметров устройств iOS или macOS](device-features-configure.md).

## <a name="before-you-begin"></a>Подготовка к работе

[Создайте профиль конфигурации устройства macOS](device-features-configure.md).

> [!NOTE]
> Эти параметры применяются к различным типам регистрации, при этом некоторые параметры применяются ко всем вариантам регистрации. Дополнительные сведения о различных типах регистрации см. в статье [macOS регистрация](../enrollment/macos-enroll.md).

## <a name="airprint"></a>AirPrint

### <a name="settings-apply-to-device-enrollment"></a>Параметры применяются к: Регистрация устройства

- **IP-адрес**. Введите IPv4- или IPv6-адрес принтера. Если для обозначения принтеров используются имена узлов, IP-адрес можно получить, проверив связь с принтером с помощью приложения "Терминал". Дополнительные сведения см. в этой статье в разделе [Получение IP-адреса и пути](#get-the-ip-address-and-path).
- **Путь**. Введите путь для принтера. Как правило, для принтеров в сети путь будет таким: `ipp/print`. Дополнительные сведения см. в этой статье в разделе [Получение IP-адреса и пути](#get-the-ip-address-and-path).
- **Порт** (iOS 11.0 и более поздние версии). Укажите порт прослушивания для целевого объекта AirPrint. Если это свойство не указано, AirPrint будет использовать порт по умолчанию.
- **TLS** (iOS 11.0 и более поздние версии). Выберите **Включить**, чтобы защитить подключения AirPrint с помощью TLS.

- **Добавить** — кнопка для добавления сервера AirPrint. Можно добавить несколько серверов AirPrint.

Также можно **импортировать** файл с разделителями-запятыми (.csv), содержащий список принтеров AirPrint. Кроме того, добавив принтеры AirPrint в Intune, вы можете **экспортировать** этот список.

### <a name="get-the-ip-address-and-path"></a>Получите IP-адреса и пути

Чтобы добавить серверы AirPrinter, вам потребуется IP-адрес принтера, путь к ресурсу и порт. Ниже описывается, как получить эту информацию.

1. На устройстве Mac, подключенном к той же локальной сети (подсети), что и принтеры AirPrint, откройте **Терминал** (меню **/Приложения/Служебные программы**).
2. В приложении "Терминал" введите `ippfind` и нажмите клавишу ВВОД.

    Запишите сведения о принтере. Например, приложение может вернуть такой адрес: `ipp://myprinter.local.:631/ipp/port1`. Первая часть — это имя принтера. Последняя часть (`ipp/port1`) — это путь к ресурсу.

3. В приложении "Терминал" введите `ping myprinter.local` и нажмите клавишу ВВОД.

   Запишите IP-адрес. Например, приложение может вернуть такой адрес: `PING myprinter.local (10.50.25.21)`.

4. Используйте значения IP-адреса и пути к ресурсу. В этом примере IP-адрес — `10.50.25.21`, а путь к ресурсу — `/ipp/port1`.

## <a name="login-items"></a>Элементы входа

### <a name="settings-apply-to-all-enrollment-types"></a>Параметры применяются к: все типы регистрации

- **Файлы, папки и пользовательские приложения**: **добавьте** путь к файлу, папке, настраиваемому приложению или системному приложению, которое требуется открыть при входе пользователя на устройство. Системные приложения или приложения, созданные или настроенные для вашей организации, обычно находятся в папке `Applications` с путем, аналогичным `/Applications/AppName.app`. 

  Можно добавить множество файлов, папок и приложений. Например, введите:  
  
  - `/Applications/Calculator.app`
  - `/Applications`
  - `/Applications/Microsoft Office/root/Office16/winword.exe`
  - `/Users/UserName/music/itunes.app`
  
  При добавлении любого приложения, папки или файла обязательно введите правильный путь. Не все элементы находятся в папке `Applications`. Если пользователь перемещает элемент из одного расположения в другое, путь изменяется. Этот перемещенный элемент не будет открываться при входе пользователя в систему.

## <a name="login-window"></a>Окно входа в систему

### <a name="settings-apply-to-device-enrollment"></a>Параметры применяются к: Регистрация устройства

#### <a name="window-layout"></a>Макет Window

- **Показать дополнительные сведения в строке меню**. Когда в строке меню выбрана область времени, в поле **Разрешить** отображается имя узла и версия macOS. **Не настроено** (по умолчанию). Эти сведения не отображаются в строке меню.
- **Баннер**. Введите сообщение, которое будет отображаться на странице входа на экране устройства. Например, введите сведения о вашей организации, приветственное сообщение, информацию о потерянных и найденных объектах и т. д.
- **Выберите формат имени входа**. Выберите способ входа пользователей на устройство. Доступны следующие параметры:
  - **Запрашивать имя пользователя и пароль** (по умолчанию). Требует ввода имени пользователя и пароля.
  - **List all users, prompt for password** (Вывести список всех пользователей и запросить пароль). Требует от пользователей выбрать свое имя пользователя из списка пользователей и затем ввести пароль. Кроме того, настройте следующее:

    - **Локальные пользователи**. Значение **Скрыть** — не отображает учетные записи локальных пользователей в списке пользователей, который может включать стандартные учетные записи и учетные записи администраторов. Отображаются только учетные записи пользователей сети и системы. **Не настроено** (по умолчанию) — отображает локальные учетные записи пользователей в списке пользователей.
    - **Мобильные учетные записи**. Значение **Скрыть** — не отображает мобильные учетные записи в списке пользователей. **Не настроено** (по умолчанию) — отображает мобильные учетные записи пользователей в списке пользователей. Некоторые мобильные учетные записи могут отображаться как пользователи сети.
    - **Пользователи сети**. Выберите **Показать**, чтобы отобразить пользователей сети в списке пользователей. **Не настроено** (по умолчанию) — не отображает учетные записи локальных пользователей в списке пользователей.
    - **Администраторы**. Значение **Скрыть** — не отображает учетные записи администраторов в списке пользователей. **Не настроено** (по умолчанию) — отображает учетные записи администраторов в списке пользователей.
    - **Другие пользователи**. Выберите **Показать**, чтобы отобразить пользователей сети в списке пользователей **Другие...** **Не настроено** (по умолчанию) не отображает учетные записи других пользователей в списке пользователей.

#### <a name="login-screen-power-settings"></a>Параметры управления питанием экрана входа

- **Кнопка "Завершение работы"** . Значение **Скрыть** — не отображает кнопку завершения работы на экране входа. Если выбрано значение **Не настроено** (по умолчанию), кнопка завершения работы отображается.
- **Кнопка "Перезагрузка"** . Значение **Скрыть** — не отображает кнопку перезагрузки на экране входа. Если выбрано значение **Не настроено** (по умолчанию), кнопка перезагрузки отображается.
- **Кнопка "Спящий режим"** . Значение **Скрыть** — не отображает кнопку спящего режима на экране входа. Если выбрано значение **Не настроено** (по умолчанию), кнопка перехода в спящий режим отображается.

#### <a name="other"></a>другой

- **Отключить вход пользователя из консоли**. Значение **Отключить** — скрывает командную строку macOS, используемую для входа. Для обычных пользователей **отключите** этот параметр. Значение **Не настроено** (по умолчанию) позволяет опытным пользователям войти в систему с помощью командной строки macOS. Чтобы войти в режим консоли, пользователи вводят `>console` в поле "Имя пользователя" и должны пройти проверку подлинности в окне консоли.

#### <a name="apple-menu"></a>Меню Apple

После того, как пользователи войдут в устройства, следующие настройки влияют на их возможности.

- **Отключить завершение работы**. Значение **Отключить** запрещает пользователям выбирать параметр **Завершение работы** после входа пользователя. Значение **Не настроено** (по умолчанию) позволяет пользователям выбирать пункт меню **Завершение работы** на устройстве.
- **Отключить перезагрузку**. Значение **Отключить** запрещает пользователям выбирать параметр **Перезагрузка** после входа пользователя. Значение **Не настроено** (по умолчанию) позволяет пользователям выбирать пункт меню **Перезагрузка** на устройстве.
- **Отключить завершение работы**. Значение **Отключить** запрещает пользователям выбирать параметр **Power off** (Выключение питания) после входа пользователя. Значение **Не настроено** (по умолчанию) позволяет пользователям выбирать пункт меню **Power off** (Выключение питания) на устройстве.
- **Отключить выход из системы** (macOS 10.13 и более поздние версии). Значение **Отключить** запрещает пользователям выбирать параметр **Log out** (Выход из системы) после входа пользователя. Значение **Не настроено** (по умолчанию) позволяет пользователям выбирать пункт меню **Log out** (Выход из системы) на устройстве.
- **Отключить экран блокировки** (macOS 10.13 и более поздние версии). Значение **Отключить** запрещает пользователям выбирать параметр **Экран блокировки** после входа пользователя. Значение **Не настроено** (по умолчанию) позволяет пользователям выбирать пункт меню **Экран блокировки** на устройстве.

## <a name="single-sign-on-app-extension"></a>Расширение для приложения единого входа

Данная функция применяется к:

- macOS 10.15 и более поздние версии;

### <a name="settings-apply-to-all-enrollment-types"></a>Параметры применяются к: все типы регистрации 

- **Тип расширения приложения единого входа**: выберите тип расширения приложения единого входа для учетных данных. При сохранении профиля расширения приложения единого входа нельзя изменить тип расширения единого входа. Доступны следующие параметры:

  - **Не настроено**: расширения приложения не используются. Чтобы отключить расширение приложения единого входа, переключите тип расширения приложения SSO с **Kerberos** или **учетные данные** в значение **не настроено**.
  - **Учетные данные**: используйте Универсальное настраиваемое расширение приложения для учетных данных, чтобы использовать единый вход. Убедитесь, что вы знаете идентификатор расширения и идентификатор команды для расширения приложения единого входа вашей организации.  
  - **Kerberos**: используйте встроенное расширение Kerberos Apple, которое входит в macOS Catalina 10,15 и более поздней версии. Этот параметр является версией расширения приложения для работы с **учетными данными** , зависящей от Kerberos.

  > [!TIP]
  > С помощью типа **учетных данных** вы добавляете собственные значения конфигурации для передачи через расширение. Вместо этого рассмотрите возможность использования встроенных параметров конфигурации, предоставляемых Apple в типе **Kerberos** .

- **ИД расширения** (только учетные данные): введите идентификатор пакета, который идентифицирует расширение приложения единого входа, например `com.apple.ssoexample`.
- **Идентификатор команды** (только учетные данные): введите идентификатор команды расширения приложения единого входа. Идентификатор группы — это строка, состоящая из 10 букв (цифр и букв), созданная Apple, например `ABCDE12345`. 

  Узнать [идентификатор команды](https://help.apple.com/developer-account/#/dev55c3c710c) (открывает веб-сайт Apple), содержащий дополнительные сведения.

- **Область**: введите имя своей области Kerberos. Имя области должно иметь прописные буквы, например `CONTOSO.COM`. Как правило, имя сферы совпадает с именем домена DNS, но в верхнем регистре.
- **Домены**: введите имена доменов или узлов сайтов, которые могут проходить проверку подлинности с помощью единого входа. Например, если веб-сайт имеет значение `mysite.contoso.com`, то `mysite` — это имя узла, а `contoso.com` — имя домена. Когда пользователи подключаются к любому из этих сайтов, расширение приложения обрабатывает запрос проверки подлинности. Эта проверка подлинности позволяет пользователям использовать идентификатор лица, сенсорный идентификатор или Apple пинкоде/секретный код для входа.

  - Все домены в расширении приложения единого входа должны быть уникальными. Вы не можете повторить домен в любом профиле расширения приложения для входа, даже если вы используете разные типы расширений единого входа.
  - В этих доменах не учитывается регистр.

- **Дополнительная настройка** (только учетные данные): введите дополнительные данные, относящиеся к расширению, для передачи в расширение приложения единого входа:
  - **Ключ конфигурации**: введите имя элемента, который вы хотите добавить, например `user name`.
  - **Тип значения**: введите тип данных. Доступны следующие параметры:

    - Строка
    - Логическое: в **значении конфигурации**введите `True` или `False`.
    - Integer: в **значении конфигурации**введите число.
    
  - **Значение конфигурации**: введите данные.
  
  - **Добавить**: выберите, чтобы добавить ключи конфигурации.

- **Использование цепочки ключей** (только Kerberos): выберите **блок** , чтобы запретить сохранение и сохранение паролей в цепочке ключей. **Не настроено** (по умолчанию) — позволяет сохранять пароли и хранить их в цепочке ключей.  
- **Идентификатор лица, сенсорный идентификатор или секретный** код (только Kerberos): **обязательно** вынуждает пользователей вводить идентификатор лица, сенсорный идентификатор или секретный код Apple для входа в добавленные домены. **Не настроено** (по умолчанию). не требует от пользователей использовать биометрию или секретный код для входа.
- **Область по умолчанию** (только Kerberos): выберите **включить** , чтобы задать значение **области** , введенное в качестве области по умолчанию. **Не настроено** (по умолчанию) не задает область по умолчанию.

  > [!TIP]
  > - **Включите** этот параметр, если вы настраиваете несколько расширений приложения единого входа Kerberos в Организации.
  > - **Включите** этот параметр, если вы используете несколько сфер. Он задает значение **области** , введенное в качестве области по умолчанию.
  > - Если у вас есть только одна область, оставьте ее **не настроенной** (по умолчанию).

- **Автообнаружения** (только Kerberos): Если задано значение **Block**, то расширение Kerberos не использует LDAP и DNS автоматически для определения имени сайта Active Directory. **Не настроено** (по умолчанию). позволяет расширению автоматически находить Active Directory имя сайта.
- **Изменения пароля** (только Kerberos): **блокировать** запрещает пользователям изменять пароли, используемые для входа в указанные домены. **Не настроено** (по умолчанию) — разрешить изменение пароля.  
- **Синхронизация паролей** (только Kerberos): выберите **включить** , чтобы синхронизировать локальные пароли пользователей с Azure AD. **Не настроено** (по умолчанию) — отключает синхронизацию паролей с Azure AD. Используйте этот параметр в качестве альтернативы или резервного копирования в единый вход. Этот параметр не работает, если пользователи вошли с помощью учетной записи Apple Mobile.
- **Сложность пароля Windows Server Active Directory** (только Kerberos): выберите **требовать** , чтобы принудительно использовать пароли пользователей для удовлетворения требований к сложности пароля Active Directory. Дополнительные сведения см. в статье [пароль должен отвечать требованиям сложности](https://docs.microsoft.com/windows/security/threat-protection/security-policy-settings/password-must-meet-complexity-requirements) . **Не настроено** (по умолчанию) не требует от пользователей соответствия требованиям к паролю Active Directory.
- **Минимальная длина пароля** (только Kerberos). Введите минимальное число символов, которые могут быть внесены в пароль пользователя. **Не настроено** (по умолчанию) не обеспечивает минимальную длину пароля для пользователей.
- **Ограничение повторного использования пароля** (только Kerberos): введите число новых паролей (от 1-24), которые должны использоваться до повторного использования предыдущего пароля в домене. **Не настроено** (по умолчанию). ограничение на повторное использование пароля не применяется.
- **Минимальный срок действия пароля** (только Kerberos): введите число дней, в течение которых пароль должен использоваться в домене, прежде чем пользователь сможет его изменить. **Не настроено** (по умолчанию) не требует минимального возраста паролей, прежде чем их можно будет изменить.
- **Уведомление об истечении срока действия пароля** (только Kerberos): введите число дней до истечения срока действия пароля, по истечении которого пользователи получают уведомление о том, что срок действия пароля истекает. **Не настроено** (по умолчанию) использует `15` дней.
- **Окончание срока действия пароля** (только Kerberos). Введите число дней до обязательной смены пароля на устройстве. **Не настроено** (по умолчанию) означает, что срок действия паролей пользователей никогда не истечет.
- **Имя участника** (только Kerberos): введите имя пользователя участника Kerberos. Не нужно включать имя области. Например, в `user@contoso.com` `user` — имя участника, а `contoso.com` — имя области.
- **Код сайта Active Directory** (только Kerberos): введите имя сайта Active Directory, который должно использовать расширение Kerberos. Может потребоваться изменить это значение, так как расширение Kerberos может автоматически найти Active Directory код сайта.
- **Имя кэша** (только Kerberos): введите общее имя службы безопасности (GSS) для кэша Kerberos. Скорее всего, вам не нужно задавать это значение.  
- **Сообщение о требованиях к паролю** (только Kerberos). Введите текстовую версию требований к паролю вашей организации, отображаемых для пользователей. Сообщение отображается, если не требуются требования к сложности пароля Active Directory или не введена минимальная длина пароля.  
- **Идентификаторы наборов приложений** (только Kerberos): **добавьте** идентификаторы наборов приложений, которые должны использовать единый вход на устройствах. Этим приложениям предоставляется доступ к билету на предоставление билета Kerberos, билету проверки подлинности и пользователям для проверки подлинности пользователей в службах, которым они разрешены.
- **Сопоставление области домена** (только Kerberos). **добавьте** DNS-суффиксы домена, которые должны сопоставляться с вашей областью. Используйте этот параметр, если DNS-имена узлов не соответствуют имени области. Скорее всего, вам не нужно создавать это собственное сопоставление между доменами и сферами.

## <a name="associated-domains"></a>Связанные домены

В Intune можно выполнять следующие задачи:

- Добавьте несколько связей "приложение-домен".
- Свяжите многие домены с одним и тем же приложением.

Данная функция применяется к:

- macOS 10.15 и более поздние версии;

### <a name="settings-apply-to-all-enrollment-types"></a>Параметры применяются к: все типы регистрации

- **Идентификатор приложения**: введите идентификатор приложения, который будет связан с веб-сайтом. Идентификатор приложения содержит идентификатор команды и идентификатор пакета: `TeamID.BundleID`.

  Идентификатор группы — это строка, состоящая из 10 буквенно-цифровых символов (букв и цифр), созданная Apple для разработчиков приложений, например `ABCDE12345`. [Определение идентификатора команды](https://help.apple.com/developer-account/#/dev55c3c710c)   (открывает веб-сайт Apple) содержит дополнительные сведения.

  Идентификатор пакета однозначно определяет приложение и обычно форматируется в нотации обратных имен доменов. Например, ИДЕНТИФИКАТОРом пакета Finder является `com.apple.finder`. Чтобы найти идентификатор пакета, используйте AppleScript в терминале:

  `osascript -e 'id of app "ExampleApp"'`

- **Домен**: введите домен веб-сайта, связываемый с приложением. Домен содержит тип службы и полное имя узла, например `webcredentials:www.contoso.com`.

  Чтобы сопоставить все поддомены связанного домена, введите `*.` (символ-шаблон звездочки и точка) перед началом домена. Требуется указать период. Точные домены имеют более высокий приоритет, чем домены с подстановочными знаками. Поэтому шаблоны из родительских доменов сопоставляются, *Если* соответствие не найдено в полном поддомене.

  Тип службы может быть следующим:

  - **authsrv**: расширение для приложения единого входа
  - **апплинк**: Универсальная ссылка
  - **учетные записи**: Автозаполнение пароля

- **Добавить**: выберите, чтобы добавить приложения и связанные домены.

> [!TIP]
> Для устранения неполадок на устройстве macOS откройте **Системные настройки**  > **Профили**. Убедитесь, что созданный профиль находится в списке профилей устройств. Если он указан, убедитесь, что **Конфигурация связанных доменов** находится в профиле и содержит правильные идентификатор приложения и домены.

## <a name="next-steps"></a>Дальнейшие шаги

[Назначьте профиль](device-profile-assign.md) и [отслеживайте его состояние](device-profile-monitor.md).

Вы также можете настроить функции устройств в [iOS](ios-device-features-settings.md).
